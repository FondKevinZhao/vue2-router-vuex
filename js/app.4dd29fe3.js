(function(e){function t(t){for(var r,a,s=t[0],l=t[1],u=t[2],c=0,p=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);m&&m(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function s(e){return l.p+"js/"+({about:"about"}[e]||e)+"."+{about:"22bbd8e8","chunk-06d39bf2":"ec20e90c","chunk-070c8cc0":"8c314873","chunk-18d1e586":"52e98e15"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={"chunk-06d39bf2":1,"chunk-070c8cc0":1,"chunk-18d1e586":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-06d39bf2":"316b72a9","chunk-070c8cc0":"f8e5bc04","chunk-18d1e586":"5d016786"}[e]+".css",o=l.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===r||c===o))return t()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){u=p[s],c=u.getAttribute("data-href");if(c===r||c===o)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],m.parentNode.removeChild(m),n(i)},m.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(m)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=s(e);var p=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(m);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",p.name="ChunkLoadError",p.type=r,p.request=a,n[1](p)}o[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var m=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4a41":function(e,t,n){},"4ee2":function(e,t,n){},"55e4":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}}),t("router-view")],1)},o=[],i={name:"app",components:{}},s=i,l=n("2877"),u=Object(l["a"])(s,a,o,!1,null,null,null),c=u.exports,p=n("8c4f"),m=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("Banner",{attrs:{banner:e.banner}}),t("Lanmei",{attrs:{list:e.list}}),t("MyPagination",{attrs:{total:e.total,pageSize:e.pageSize},on:{getPage:e.getPage}}),t("el-backtop")],1)},d=[],f=function(){var e=this,t=e._self._c;return t("div",[t("el-carousel",{attrs:{trigger:"click",height:"500px"}},e._l(e.banner,(function(e){return t("el-carousel-item",{key:e.title},[t("img",{attrs:{src:e.img,height:"500px",width:"100%",alt:""}})])})),1)],1)},g=[],h={props:{banner:{type:Array,default:function(){return[]}}}},b=h,v=Object(l["a"])(b,f,g,!1,null,null,null),w=v.exports,y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h2",{staticClass:"title"},[e._v("蓝莓酱")]),t("ul",{staticClass:"list"},e._l(e.list,(function(n,r){return t("li",{key:n.index},[t("div",{staticClass:"item"},[t("img",{attrs:{src:n.img,alt:""}}),t("span",[e._v(e._s(n.title))])])])})),0)])},k=[],_={props:["list"]},x=_,j=(n("ef1f"),Object(l["a"])(x,y,k,!1,null,"f3fff932",null)),O=j.exports,L=n("6d26"),F={name:"Home",components:{Banner:w,Lanmei:O,MyPagination:L["a"]},data(){return{banner:[],list:[],total:100,pageSize:10}},created(){this.$api.getBanner().then(e=>{let t=e.data.banner;for(let n=0;n<t.length;n++)t[n].img=t[n].img.replace("http://www.wwtliu.com/sxtstu","http://iwenwiki.com/api");this.banner=t}),this.getHttp(1)},methods:{getPage(e){this.getHttp(e),document.documentElement.scrollTop=570},getHttp(e){this.$api.getLanmei({blueBerryjam_id:e}).then(e=>{let t=e.data.blueBerryJam;t.forEach(e=>{e.img=e.img.replace("http://iwen.wiki/sxtstu","http://iwenwiki.com/api")}),this.list=t,this.total=e.data.maxPage,this.pageSze=1})}}},S=F,P=Object(l["a"])(S,m,d,!1,null,null,null),C=P.exports,M=function(){var e=this,t=e._self._c;return t("div",[t("MyMenu"),t("router-view")],1)},B=[],$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"nav"},[t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.$route.path,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""}},[t("el-menu-item",{attrs:{index:"/"}},[e._v("首页")]),t("el-menu-item",{attrs:{index:"/news"}},[e._v("新闻")]),t("el-menu-item",{attrs:{index:"/about"}},[e._v("我的")]),t("el-menu-item",{attrs:{index:"/travel"}},[e._v("旅游")]),t("div",{staticClass:"nav-right"},[e.userinfo.username?[t("span",[e._v("欢迎："+e._s(e.userinfo.username))]),t("i",{staticClass:"el-icon-switch-button",on:{click:e.loginout}})]:t("el-button",{attrs:{size:"small"},on:{click:e.goLogin}},[e._v("登录")])],2)],1)],1)},E=[],N=n("2f62"),T={data(){return{}},created(){},computed:{...Object(N["c"])("LoginModule",["userinfo"])},methods:{...Object(N["b"])("LoginModule",["clearUser"]),loginout(){this.clearUser(),localStorage.removeItem("userinfo"),this.$router.push("/")},goLogin(){this.$router.push("/login")}}},A=T,U=(n("d5e6"),Object(l["a"])(A,$,E,!1,null,"3fb94f90",null)),z=U.exports,I={components:{MyMenu:z}},J=I,H=Object(l["a"])(J,M,B,!1,null,null,null),q=H.exports,D=function(){var e=this,t=e._self._c;return t("div",[t("h2",{staticClass:"title"},[e._v("登录界面")]),t("div",{staticClass:"box"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules,"label-width":"60px"}},[t("el-form-item",{attrs:{label:"账号",prop:"username"}},[t("el-input",{attrs:{type:"text"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])},G=[],K=(n("d9e2"),n("1232")),R={data(){let e=(e,t,n)=>{""===t?n(new Error("请输入账号")):n()},t=(e,t,n)=>{""===t?n(new Error("请输入密码")):n()};return{loginForm:{username:"",password:""},rules:{username:[{validator:e,trigger:"blur"}],password:[{validator:t,trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate(e=>{if(!e)return console.log("校验失败"),!1;this.$api.getLogin({user:this.loginForm.username,pwd:this.loginForm.password}).then(e=>{let t={token:e.data.token,username:Object(K["a"])(e.data.token).user};this.$store.commit("LoginModule/setUser",t),localStorage.setItem("userinfo",JSON.stringify(t)),this.$router.push("/")})})},resetForm(e){this.$refs[e].resetFields()}}},Q=R,V=(n("d716"),Object(l["a"])(Q,D,G,!1,null,"56ebf84e",null)),W=V.exports;r["default"].use(p["a"]);const X=[{path:"",component:q,children:[{path:"/",name:"Home",component:C,meta:{isLogin:!1}},{path:"/about",name:"About",component:()=>n.e("about").then(n.bind(null,"8ab4")),meta:{isLogin:!0}},{path:"/news",name:"News",component:()=>n.e("chunk-070c8cc0").then(n.bind(null,"440f")),meta:{isLogin:!0}},{path:"/travel",name:"Travel",component:()=>n.e("chunk-18d1e586").then(n.bind(null,"12c0")),meta:{isLogin:!0}}]},{path:"/login",name:"Login",component:W},{path:"/*",name:"NotFound",component:()=>n.e("chunk-06d39bf2").then(n.bind(null,"9703"))}],Y=new p["a"]({routes:X});var Z=Y,ee={namespaced:!0,state:{userinfo:{username:"",token:null}},mutations:{setUser(e,t){e.userinfo=t},clearUser(e){e.userinfo={username:"",token:null}}},actions:{}};r["default"].use(N["a"]);var te=new N["a"].Store({state:{},mutations:{},actions:{},modules:{LoginModule:ee}}),ne=(n("4ee2"),n("5c96")),re=n.n(ne);n("0fae");Z.beforeEach((e,t,n)=>{if(e.meta.isLogin){let e=te.state.LoginModule.userinfo.token;e?n():n("/login")}else n()});const ae={host:"http://iwenwiki.com",bannerUrl:"/api/blueberrypai/getIndexBanner.php",login:"http://localhost:8888/login",lanmei:"/api/blueberrypai/getBlueBerryJamInfo.php",news:"/foo/touch/reconstruct/article/list/",search:"/boo/qcross/home/ajax?action=hotelsearch&type=1",tuijian:"/boo/qcross/home/index.php?action=recommend&timer=1638347951752&ajaxID=59b0b70acebeb65c1882399e"};var oe=ae,ie=n("bc3a"),se=n.n(ie);n("a01c");const le={getBanner(){return se.a.get(oe.host+oe.bannerUrl)},getLogin(e){return se.a.get(oe.login,{params:e})},getLanmei(e){return se.a.get(oe.host+oe.lanmei,{params:e})},getNews(e,t){return se.a.get(oe.news+e+"/"+10*(t-1)+"-10.html").then(t=>{let n=JSON.parse(t.data.slice(9,-1));return n[e]})},getSearch(e){return se.a.get(oe.search,{params:e})},getTuijian(){return se.a.get(oe.tuijian)}};var ue=le;r["default"].use(re.a);let ce=localStorage.getItem("userinfo");ce&&(ce=JSON.parse(ce),te.commit("LoginModule/setUser",ce)),r["default"].prototype.$api=ue,r["default"].config.productionTip=!1,new r["default"]({router:Z,store:te,render:e=>e(c)}).$mount("#app")},"6d26":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pager"},[t("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:e.total,"page-size":1},on:{"current-change":e.changePage}})],1)},a=[],o={props:{total:{type:Number,default:100},pageSize:{type:Number,default:10}},methods:{changePage(e){this.$emit("getPage",e)}}},i=o,s=(n("fb08"),n("2877")),l=Object(s["a"])(i,r,a,!1,null,"29dc5db7",null);t["a"]=l.exports},"857a":function(e,t,n){},a01c:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));const r="BBM54PGAwangning",a="BA8FF5PRwangning"},bc79:function(e,t,n){},d5e6:function(e,t,n){"use strict";n("55e4")},d716:function(e,t,n){"use strict";n("857a")},ef1f:function(e,t,n){"use strict";n("4a41")},fb08:function(e,t,n){"use strict";n("bc79")}});
//# sourceMappingURL=app.4dd29fe3.js.map